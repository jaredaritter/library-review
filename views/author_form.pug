//- PASSING IN TITLE, AUTHOR, ERRORS, AUTHOR_LIST

extends layout

block content
  h1=title

  form(method='POST' action='')
    .form-group
      label(for='first_name') First Name:
      input#first_name.form-control(
        type='text' 
        placeholder='First name' 
        name='first_name'
        required='true'
        value=(author === undefined ? '' : author.first_name)
      )
      label(for='family_name') Family Name:
      input#last_name.form-control(
        type='text' 
        placeholder='Family name (surname)' 
        name='family_name'
        required='true'
        value=(author === undefined ? '' : author.family_name)
      )
    .form-group
      label(for='date_of_birth') Date of Birth:
      input#date_of_birth.form-control(
        type='date'
        name='date_of_birth'
        value=(author === undefined ? '' : author.date_of_birth_ISODate)
      )
      label(for='date_of_death') Date of Death:
      input#date_of_death.form-control(
        type='date'
        name='date_of_death'
        value=(author === undefined ? '' : author.date_of_death_ISODate)
      )
    button.btn.btn-primary(type='submit') Submit

  if errors
    ul.error
      for error in errors
        li!= error.msg

  if author_list
    .indent
      h4 Current Authors
      
      ul
        for author in author_list
          li #{author.family_name}, #{author.first_name}
